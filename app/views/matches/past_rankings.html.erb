

<div id="cycling-background-container" style="background: url('<%= get_random_bg_image %>') 50% 0% / cover no-repeat;">
</div>
<div id="ranking-wrapper" class="container">
  <h1>Rankings</h1>
  <%= form_with(url: "/matches/past_rankings", id:"rankings-date-form", method: "get", local: true) do %>
    <%= select_date(@match_date, { order: [:month, :year], prefix: :match_date}, { onchange: ("this.form.submit();") } ) %>
  <% end %>
  <div id="ranking-board">
    <div id="ranking-border">
      <div class="vert left"></div>
      <div class="vert right"></div>
      <div class="horz top"></div>
      <div class="horz bottom"></div>
    </div>
    <div class="scroll-catcher">
      <div class="vert-centerer">
        <div id="rankings">
          <div id="ranked-players">
            <% @ranked_players.each.with_index do |user, i| %>
              <%= link_to "#{i+1}. #{user.name} (#{@matches.where(winner: user).count}-#{@matches.where(loser: user).count}) - #{user.ranking&.round(2)}", user_path(user), :class => "btn user ranked" %>
            <% end %>
          </div>
          <hr class="divider"/>
          <div id="unranked-players">

            <% @unranked_players.each.with_index do |user, i| %>
              <%= link_to "#{user.name} (#{@matches.where(winner: user).count}-#{@matches.where(loser: user).count})", user_path(user), :class => "btn user unranked" %>
            <% end %>


          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <!--  Ranking Page Scripts-->
  <!-- TO DO: STRIP THESE OUT INTO SEP FILES -->
  <!--List animation cue-->
  <script>
    var ul = document.getElementById("rankings");
    var items = ul.getElementsByTagName("a");
    for (var i = 0; i < items.length; i++) {

      items[i].style.animationDuration = .2 + (i / 3) + "s";
    }
  </script>